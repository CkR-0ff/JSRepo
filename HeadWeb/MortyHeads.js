    let mortyArray = [
        "https://pocketmortys.net/images/assets/MortyHoboIcon.png",
        "https://pocketmortys.net/images/assets/MortyOldIcon.png",
        "https://pocketmortys.net/images/assets/MortyGeriatricIcon.png",
        "https://pocketmortys.net/images/assets/MortyAncientIcon.png",
        "https://pocketmortys.net/images/assets/MortyRabbitIcon.png",
        "https://pocketmortys.net/images/assets/MortyEvilRabbitIcon.png",
        "https://pocketmortys.net/images/assets/MortyNoEyeIcon.png",
        "https://pocketmortys.net/images/assets/MortyOneEyeIcon.png",
        "https://pocketmortys.net/images/assets/MortyThreeEyeIcon.png",
        "https://pocketmortys.net/images/assets/MortyTestX1Icon.png",
        "https://pocketmortys.net/images/assets/MortyTestX46Icon.png",
        "https://pocketmortys.net/images/assets/MortyTestX72Icon.png",
        "https://pocketmortys.net/images/assets/MortyKarateIcon.png",
        "https://pocketmortys.net/images/assets/MortyNoMercyIcon.png",
        "https://pocketmortys.net/images/assets/MortyMustacheIcon.png",
        "https://pocketmortys.net/images/assets/MortyBeardIcon.png",
        "https://pocketmortys.net/images/assets/MortyHipsterIcon.png",
        "https://pocketmortys.net/images/assets/MortyPocketMortysIcon.png",
        "https://pocketmortys.net/images/assets/MortyOrangeShirtIcon.png",
        "https://pocketmortys.net/images/assets/MortyGreenShirtIcon.png",
        "https://pocketmortys.net/images/assets/MortyPurpleShirtIcon.png",
        "https://pocketmortys.net/images/assets/MortyRainbowShirtIcon.png",
        "https://pocketmortys.net/images/assets/MortyExoAlphaIcon.png",
        "https://pocketmortys.net/images/assets/MortyExoOmegaIcon.png",
        "https://pocketmortys.net/images/assets/MortyExoPrimeIcon.png",
        "https://pocketmortys.net/images/assets/MortyPeaceIcon.png",
        "https://pocketmortys.net/images/assets/MortyHippieIcon.png",
        "https://pocketmortys.net/images/assets/MortyOffTheGridIcon.png",
        "https://pocketmortys.net/images/assets/MortyColossalHeadIcon.png",
        "https://pocketmortys.net/images/assets/MortySpookyIcon.png",
        "https://pocketmortys.net/images/assets/MortyGhostlyIcon.png",
        "https://pocketmortys.net/images/assets/MortyPhantomIcon.png",
        "https://pocketmortys.net/images/assets/MortyDoubleIcon.png",
        "https://pocketmortys.net/images/assets/MortyTripleIcon.png",
        "https://pocketmortys.net/images/assets/MortyMultiIcon.png",
        "https://pocketmortys.net/images/assets/MortyGreaserIcon.png",
        "https://pocketmortys.net/images/assets/MortyBikerIcon.png",
        "https://pocketmortys.net/images/assets/MortyWrestlerIcon.png",
        "https://pocketmortys.net/images/assets/MortyVainyIcon.png",
        "https://pocketmortys.net/images/assets/MortyNoSkinIcon.png",
        "https://pocketmortys.net/images/assets/MortySkeletonIcon.png",
        "https://pocketmortys.net/images/assets/MortyMagicIcon.png",
        "https://pocketmortys.net/images/assets/MortyMysticIcon.png",
        "https://pocketmortys.net/images/assets/MortyWizardIcon.png",
        "https://pocketmortys.net/images/assets/MortyTelepathicIcon.png",
        "https://pocketmortys.net/images/assets/MortyTelekineticIcon.png",
        "https://pocketmortys.net/images/assets/MortyPsychokineticIcon.png",
        "https://pocketmortys.net/images/assets/MortyReverseMermaidIcon.png",
        "https://pocketmortys.net/images/assets/MortyBusinessIcon.png",
        "https://pocketmortys.net/images/assets/MortyGaseousIcon.png",
        "https://pocketmortys.net/images/assets/MortyShadowIcon.png",
        "https://pocketmortys.net/images/assets/MortyAquaIcon.png",
        "https://pocketmortys.net/images/assets/MortyCyclopsIcon.png",
        "https://pocketmortys.net/images/assets/MortyCowboyIcon.png",
        "https://pocketmortys.net/images/assets/MortyRobotIcon.png",
        "https://pocketmortys.net/images/assets/MortyHammerheadIcon.png",
        "https://pocketmortys.net/images/assets/MortyCronenbergIcon.png",
        "https://pocketmortys.net/images/assets/MortyMascotIcon.png",
        "https://pocketmortys.net/images/assets/MortyEggIcon.png",
        "https://pocketmortys.net/images/assets/MortyTheOneTrueIcon.png",
        "https://pocketmortys.net/images/assets/MortyMulletIcon.png",
        "https://pocketmortys.net/images/assets/MortyChopsIcon.png",
        "https://pocketmortys.net/images/assets/MortyAfroIcon.png",
        "https://pocketmortys.net/images/assets/MortyHotIcon.png",
        "https://pocketmortys.net/images/assets/MortyFlamingIcon.png",
        "https://pocketmortys.net/images/assets/MortyFrozenIcon.png",
        "https://pocketmortys.net/images/assets/MortyFluIcon.png",
        "https://pocketmortys.net/images/assets/MortyMutantFluIcon.png",
        "https://pocketmortys.net/images/assets/MortyDiamondEyesIcon.png",
        "https://pocketmortys.net/images/assets/MortyCacoonIcon.png",
        "https://pocketmortys.net/images/assets/MortyButterflyIcon.png",
        "https://pocketmortys.net/images/assets/MortyPunkIcon.png",
        "https://pocketmortys.net/images/assets/MortyBigTongueIcon.png",
        "https://pocketmortys.net/images/assets/MortyPizzaIcon.png",
        "https://pocketmortys.net/images/assets/MortyMushroomPizzaIcon.png",
        "https://pocketmortys.net/images/assets/MortyPepperoniPizzaIcon.png",
        "https://pocketmortys.net/images/assets/MortyUnicornIcon.png",
        "https://pocketmortys.net/images/assets/MortySuperUnicornIcon.png",
        "https://pocketmortys.net/images/assets/MortyMoonIcon.png",
        "https://pocketmortys.net/images/assets/MortySunIcon.png",
        "https://pocketmortys.net/images/assets/MortyBlackholeIcon.png",
        "https://pocketmortys.net/images/assets/MortyMorticiaIcon.png",
        "https://pocketmortys.net/images/assets/MortySingleSnoozleIcon.png",
        "https://pocketmortys.net/images/assets/MortyDoubleSnoozleIcon.png",
        "https://pocketmortys.net/images/assets/MortyTripleSnoozleIcon.png",
        "https://pocketmortys.net/images/assets/MortySuperMortyFanIcon.png",
        "https://pocketmortys.net/images/assets/MortySuperRickFanIcon.png",
        "https://pocketmortys.net/images/assets/MortyBlobIcon.png",
        "https://pocketmortys.net/images/assets/MortyJellyIcon.png",
        "https://pocketmortys.net/images/assets/MortyGooIcon.png",
        "https://pocketmortys.net/images/assets/MortyInfectedIcon.png",
        "https://pocketmortys.net/images/assets/MortyParasiticIcon.png",
        "https://pocketmortys.net/images/assets/MortyHostIcon.png",
        "https://pocketmortys.net/images/assets/MortyBananaIcon.png",
        "https://pocketmortys.net/images/assets/MortyStonedIcon.png",
        "https://pocketmortys.net/images/assets/MortyPetrifiedIcon.png",
        "https://pocketmortys.net/images/assets/MortyBoulderIcon.png",
        "https://pocketmortys.net/images/assets/MortyReptileIcon.png",
        "https://pocketmortys.net/images/assets/MortyRaptorIcon.png",
        "https://pocketmortys.net/images/assets/MortySaurusIcon.png",
        "https://pocketmortys.net/images/assets/MortyDogIcon.png",
        "https://pocketmortys.net/images/assets/MortyWerewolfIcon.png",
        "https://pocketmortys.net/images/assets/MortyBootCampIcon.png",
        "https://pocketmortys.net/images/assets/MortyShellShockedIcon.png",
        "https://pocketmortys.net/images/assets/MortyRenegadeIcon.png",
        "https://pocketmortys.net/images/assets/MortyHeadismIcon.png",
        "https://pocketmortys.net/images/assets/MortyTurbulentJuiceIcon.png",
        "https://pocketmortys.net/images/assets/MortyJerryFanIcon.png",
        "https://pocketmortys.net/images/assets/MortyExoskeletonIcon.png",
        "https://pocketmortys.net/images/assets/MortySexyDevilIcon.png",
        "https://pocketmortys.net/images/assets/MortyRickIcon.png",
        "https://pocketmortys.net/images/assets/MortySwashbuckleIcon.png",
        "https://pocketmortys.net/images/assets/MortyCaptainIcon.png",
        "https://pocketmortys.net/images/assets/MortyMiamiIcon.png",
        "https://pocketmortys.net/images/assets/MortyNewBloodIcon.png",
        "https://pocketmortys.net/images/assets/MortyCountIcon.png",
        "https://pocketmortys.net/images/assets/MortyOldOneIcon.png",
        "https://pocketmortys.net/images/assets/MortyDoubleDenimIcon.png",
        "https://pocketmortys.net/images/assets/MortyTripleDenimIcon.png",
        "https://pocketmortys.net/images/assets/MortyCupIcon.png",
        "https://pocketmortys.net/images/assets/MortyFawnIcon.png",
        "https://pocketmortys.net/images/assets/MortyNewShootIcon.png",
        "https://pocketmortys.net/images/assets/MortyOfTheValleyIcon.png",
        "https://pocketmortys.net/images/assets/MortydrangeaIcon.png",
        "https://pocketmortys.net/images/assets/MortyRookieIcon.png",
        "https://pocketmortys.net/images/assets/MortyDetectiveIcon.png",
        "https://pocketmortys.net/images/assets/MortyHeadChefIcon.png",
        "https://pocketmortys.net/images/assets/MortyMotionCaptureIcon.png",
        "https://pocketmortys.net/images/assets/MortyRainbowSuitIcon.png",
        "https://pocketmortys.net/images/assets/MortyLonerIcon.png",
        "https://pocketmortys.net/images/assets/MortyDangerousIcon.png",
        "https://pocketmortys.net/images/assets/MortyViolentIcon.png",
        "https://pocketmortys.net/images/assets/MortyBirdosaurIcon.png",
        "https://pocketmortys.net/images/assets/MortyVolcanIcon.png",
        "https://pocketmortys.net/images/assets/MortyPrancerIcon.png",
        "https://pocketmortys.net/images/assets/MortyAcePilotIcon.png",
        "https://pocketmortys.net/images/assets/MortySurvivorIcon.png",
        "https://pocketmortys.net/images/assets/MortySurvivalistIcon.png",
        "https://pocketmortys.net/images/assets/MortyWildManIcon.png",
        "https://pocketmortys.net/images/assets/MortyWildMascotIcon.png",
        "https://pocketmortys.net/images/assets/MortyAnimatronicIcon.png",
        "https://pocketmortys.net/images/assets/MortyPlumbusSlaveIcon.png",
        "https://pocketmortys.net/images/assets/MortyPlumbusMasterIcon.png",
        "https://pocketmortys.net/images/assets/MortyPlumbusPrawnIcon.png",
        "https://pocketmortys.net/images/assets/MortyPlumboniaIcon.png",
        "https://pocketmortys.net/images/assets/MortyMutagenIcon.png",
        "https://pocketmortys.net/images/assets/MortyCarcinogenicIcon.png",
        "https://pocketmortys.net/images/assets/MortyMegaIcon.png",
        "https://pocketmortys.net/images/assets/MortySplicedIcon.png",
        "https://pocketmortys.net/images/assets/MortyEnsignIcon.png",
        "https://pocketmortys.net/images/assets/MortyMortaionIcon.png",
        "https://pocketmortys.net/images/assets/MortyMortoxIcon.png",
        "https://pocketmortys.net/images/assets/MortyGirlIcon.png",
        "https://pocketmortys.net/images/assets/MortyWastelandIcon.png",
        "https://pocketmortys.net/images/assets/MortyCucumberIcon.png",
        "https://pocketmortys.net/images/assets/MortyPickleIcon.png",
        "https://pocketmortys.net/images/assets/MortyPickledIcon.png",
        "https://pocketmortys.net/images/assets/MortyConcertoIcon.png",
        "https://pocketmortys.net/images/assets/MortySherlockIcon.png",
        "https://pocketmortys.net/images/assets/MortyPoorHouseIcon.png",
        "https://pocketmortys.net/images/assets/MortyChimneySweepIcon.png",
        "https://pocketmortys.net/images/assets/MortySlimeIcon.png",
        "https://pocketmortys.net/images/assets/MortySnotIcon.png",
        "https://pocketmortys.net/images/assets/MortyGunkIcon.png",
        "https://pocketmortys.net/images/assets/MortyMindbenderIcon.png",
        "https://pocketmortys.net/images/assets/MortyPossessedIcon.png",
        "https://pocketmortys.net/images/assets/MortyIngestedIcon.png",
        "https://pocketmortys.net/images/assets/MortyVoltamatronIcon.png",
        "https://pocketmortys.net/images/assets/MortyMonsterIcon.png",
        "https://pocketmortys.net/images/assets/MortyWarPaintIcon.png",
        "https://pocketmortys.net/images/assets/MortyFroopyShloopIcon.png",
        "https://pocketmortys.net/images/assets/MortyFroopyBloopIcon.png",
        "https://pocketmortys.net/images/assets/MortyFroopyMoopIcon.png",
        "https://pocketmortys.net/images/assets/MortyBlockyIcon.png",
        "https://pocketmortys.net/images/assets/MortyTheDarkIcon.png",
        "https://pocketmortys.net/images/assets/MortyLilBitsIcon.png",
        "https://pocketmortys.net/images/assets/MortySeason3Icon.png",
        "https://pocketmortys.net/images/assets/MortyStreetLocoIcon.png",
        "https://pocketmortys.net/images/assets/MortyEnforcerLocoIcon.png",
        "https://pocketmortys.net/images/assets/MortyTrunkIcon.png",
        "https://pocketmortys.net/images/assets/MortyScalyIcon.png",
        "https://pocketmortys.net/images/assets/MortySquidFaceIcon.png",
        "https://pocketmortys.net/images/assets/MortyTentacleIcon.png",
        "https://pocketmortys.net/images/assets/MortyOctoIcon.png",
        "https://pocketmortys.net/images/assets/MortyPumpkinIcon.png",
        "https://pocketmortys.net/images/assets/MortyScaryIcon.png",
        "https://pocketmortys.net/images/assets/MortyPreAtlantisIcon.png",
        "https://pocketmortys.net/images/assets/MortyPostAtlantisIcon.png",
        "https://pocketmortys.net/images/assets/MortySpecsIcon.png",
        "https://pocketmortys.net/images/assets/MortyGrandSageIcon.png",
        "https://pocketmortys.net/images/assets/MortyRoninIcon.png",
        "https://pocketmortys.net/images/assets/MortySamuraiIcon.png",
        "https://pocketmortys.net/images/assets/MortyShogunIcon.png",
        "https://pocketmortys.net/images/assets/MortyStoolIcon.png",
        "https://pocketmortys.net/images/assets/MortyWoodenChairIcon.png",
        "https://pocketmortys.net/images/assets/MortyArmChairIcon.png",
        "https://pocketmortys.net/images/assets/MortyPilgrimIcon.png",
        "https://pocketmortys.net/images/assets/MortyConstructionDancerIcon.png",
        "https://pocketmortys.net/images/assets/MortyElfIcon.png",
        "https://pocketmortys.net/images/assets/MortySantaIcon.png",
        "https://pocketmortys.net/images/assets/MortySnowmanIcon.png",
        "https://pocketmortys.net/images/assets/MortyKrampusIcon.png",
        "https://pocketmortys.net/images/assets/MortyButtFaceIcon.png",
        "https://pocketmortys.net/images/assets/MortyVRIcon.png",
        "https://pocketmortys.net/images/assets/MortyBallDropIcon.png",
        "https://pocketmortys.net/images/assets/MortyNewYearsIcon.png",
        "https://pocketmortys.net/images/assets/MortyGrinderIcon.png",
        "https://pocketmortys.net/images/assets/MortyHunterIcon.png",
        "https://pocketmortys.net/images/assets/MortyBoxIcon.png",
        "https://pocketmortys.net/images/assets/MortySealIcon.png",
        "https://pocketmortys.net/images/assets/MortyPancakeIcon.png",
        "https://pocketmortys.net/images/assets/MortyWashingtonIcon.png",
        "https://pocketmortys.net/images/assets/MortyFroopyLandIcon.png",
        "https://pocketmortys.net/images/assets/MortyPurgeIcon.png",
        "https://pocketmortys.net/images/assets/MortyPurgeSuitIcon.png",
        "https://pocketmortys.net/images/assets/MortyStPatrickIcon.png",
        "https://pocketmortys.net/images/assets/MortyAntsInMyEyesIcon.png",
        "https://pocketmortys.net/images/assets/MortyEasterEggIcon.png",
        "https://pocketmortys.net/images/assets/MortyChickIcon.png",
        "https://pocketmortys.net/images/assets/MortyResurrectedIcon.png",
        "https://pocketmortys.net/images/assets/MortyRollerDiscoIcon.png",
        "https://pocketmortys.net/images/assets/MortyRollerDerbyIcon.png",
        "https://pocketmortys.net/images/assets/MortyLooRollIcon.png",
        "https://pocketmortys.net/images/assets/MortySurgeonIcon.png",
        "https://pocketmortys.net/images/assets/MortyCarIcon.png",
        "https://pocketmortys.net/images/assets/MortyFunnyIcon.png",
        "https://pocketmortys.net/images/assets/MortyYankeeDoodleIcon.png",
        "https://pocketmortys.net/images/assets/MortySoccerBallIcon.png",
        "https://pocketmortys.net/images/assets/MortyLasagnaIcon.png"];
        
    class Tools{
        constructor(){

        }
        static RandomRange(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }
        static isInRange(val, min, max){
            return (val<max && val>min)
        }
    }

    class Position{
        constructor(x, y){
            this.x =x;
            this.y =y;
        }
    }
    class Size{
        constructor(width, height){
            this.w = width;
            this.h = height;
            if (!height) {
                this.h = width;
            }
        }
    }
    class Rotation{
        constructor(angle){
            this.ang = angle;
        }
        get angRad(){
            return (Math.PI/180)*this.ang;
        }
    }

    class Mount{
        constructor(position, size, rotation){
            this.pos = position;
            this.size = size;
            this.rot = rotation;
        }
        intersects(mount){
            //debugger;
            if (((mount.pos.x > this.pos.x+this.size.w) || (mount.pos.y > this.pos.y+this.size.h)) || 
                ((mount.pos.x+mount.size.w < this.pos.x) || (mount.pos.y+mount.size.h < this.pos.y))) {
                return false;
            }
            return true;
        }
    }

    class WebDrawer{
        constructor(imgArray){
            this.imgArray = imgArray;
            this.mountsArray = new Array(imgArray.length);
        }
        hitsArray(mount){
            let ret = false;
            this.mountsArray.forEach(element => {
                if(element.intersects(mount) || mount.intersects(element)){
                    ret = true;
                }
            });
            //debugger;
            return ret;
        }
        getRandomMount(){
            return new Mount(
                new Position(
                    Tools.RandomRange(0, 3000), 
                    Tools.RandomRange(0, 3800)
                ),
                new Size(
                    Tools.RandomRange(100,400)
                ),
                new Rotation(
                    Tools.RandomRange(-120,120)
                )
            );
        }

        createMounts(){
            for(let i = 0; i < this.imgArray.length; i++) {
                let mount = this.getRandomMount();
                while (this.hitsArray(mount)) {
                    mount = this.getRandomMount();
                }
                this.mountsArray[i] = mount;
            }
        }
    }

    class CanvasDrawer{
        constructor(drawer){
            this.drawer = drawer;
        }
        getCanvas(){
            let canv = document.getElementById("faceCanvas");
            if (!canv) {
                canv = document.createElement('canvas');
                canv.id="faceCanvas";
                canv.width = 3400;
                canv.height = 4200;
                canv.style.display = "block";
                document.body.appendChild(canv);
            }
            return canv;
        }
        loadImages(){
            mortyArray.forEach(elem=>{
                let img = document.createElement('img');
                img.src = elem;
                img.setAttribute("class", "iconsMorty");
                document.body.appendChild(img);
            });
        }
        drawLinks(range){
            let canv = this.getCanvas();
            let ctx = canv.getContext('2d');
            ctx.strokeStyle = 'rgba(50,255,50,255)';
            ctx.lineWidth = 5;
            ctx.beginPath();
            for (let i = 0; i < this.drawer.mountsArray.length; i++) {
                const cur = this.drawer.mountsArray[i];
                ctx.moveTo(cur.pos.x+cur.size.w/2,cur.pos.y+cur.size.h/2);
                for (let j = 0; j < this.drawer.mountsArray.length; j++) {
                    const sub = this.drawer.mountsArray[j];
                    if (Tools.isInRange(sub.pos.x+sub.size.w/2,cur.pos.x+cur.size.w/2-range,cur.pos.x+cur.size.w/2+range) &&
                        Tools.isInRange(sub.pos.y+sub.size.w/2,cur.pos.y+cur.size.h/2-range,cur.pos.y+cur.size.h/2+range) ) {
                        ctx.lineTo(sub.pos.x+sub.size.w/2,sub.pos.y+sub.size.w/2);
                        ctx.moveTo(cur.pos.x+cur.size.w/2,cur.pos.y+cur.size.h/2);
                    }
                }
            }
            ctx.stroke();
        }
        drawWeb(){
            let canv = this.getCanvas();
            let ctx = canv.getContext('2d');

            this.drawer.mountsArray.forEach(elem=>{
                
                ctx.strokeStyle = 'rgba(50,255,50,255)';
                ctx.lineWidth = 5;
                ctx.fillStyle = 'rgba(0,0,0,255)';
                ctx.beginPath();
                ctx.arc(elem.pos.x+elem.size.w/2,elem.pos.y+elem.size.h/2,elem.size.h/2,0,2*Math.PI);
                ctx.fill();
                ctx.stroke();  
                
            });
        }
        drawFaces(){
            let canv = this.getCanvas();
            let ctx = canv.getContext('2d');

            let imgs = document.getElementsByClassName('iconsMorty');

            this.drawer.mountsArray.forEach((elem,idx) => {
                ctx.save(); 
                
                ctx.translate(elem.pos.x+elem.size.w/2, elem.pos.y+elem.size.h/2);
                //debugger;
                ctx.rotate(elem.rot.angRad); // rotate
                ctx.translate(-(elem.pos.x+elem.size.w/2), -(elem.pos.y+elem.size.h/2)); // translate back
                
                ctx.drawImage(imgs[idx], elem.pos.x, elem.pos.y, elem.size.w, elem.size.h);
                
                ctx.restore();
            });
        }
    }

    let drawer = new WebDrawer(mortyArray);
    drawer.createMounts();
    let canvDraw = new CanvasDrawer(drawer);

    //canvDraw.loadImages();
    //canvDraw.drawLinks(275);
    //canvDraw.drawWeb();
    //canvDraw.drawFaces();
